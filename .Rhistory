HR = sum(HR),
AB = sum(AB),
BB = sum(BB),
H = sum(H)) %>%
mutate(X1B = H - X2B - X3B - HR) -> batting.2018
Salaries %>% filter(yearID == 2018)
Salaries %>% filter(yearID == 2017)
Salaries %>% filter(yearID == 2010)
Salaries %>% filter(yearID == 2015)
Salaries %>% filter(yearID == 2016)
Salaries %>% filter(yearID == 2017)
Salaries %>% filter(yearID == 2016)
# 2018 players
Batting %>%
filter(yearID == 2016) %>%
group_by(playerID) %>%
summarize(X2B = sum(X2B),
X3B = sum(X3B),
HR = sum(HR),
AB = sum(AB),
BB = sum(BB),
H = sum(H)) %>%
mutate(X1B = H - X2B - X3B - HR) -> batting.2016
Salaries %>%
filter(yearID == 2016) %>%
group_by(playerID) %>%
summarize(salary = sum(salary)) -> salary.2016
batting.2016 %>%
left_join(salary.2016, by = "playerID")
batting.2016 %>%
left_join(salary.2016, by = "playerID") %>%
left_join(select(Master, nameLast, nameFirst,player)) %>%
mutate(name = paste(nameFirst, nameLast, sep = " "))
batting.2016 %>%
left_join(salary.2016, by = "playerID") %>%
left_join(select(Master, nameLast, nameFirst,playerID)) %>%
mutate(name = paste(nameFirst, nameLast, sep = " "))
batting.2016 %>%
left_join(salary.2016, by = "playerID") %>%
left_join(select(Master, nameLast, nameFirst,playerID)) %>%
mutate(name = paste(nameFirst, nameLast, sep = " ")) %>%
select(name,everything(),-nameLast,-nameFirst)
batting.2016 %>%
left_join(salary.2016, by = "playerID") %>%
left_join(select(Master, nameLast, nameFirst,playerID)) %>%
mutate(name = paste(nameFirst, nameLast, sep = " ")) %>%
select(name,everything(),-nameLast,-nameFirst) -> batting.2018
batting.2016 %>%
left_join(salary.2016, by = "playerID") %>%
left_join(select(Master, nameLast, nameFirst,playerID)) %>%
mutate(name = paste(nameFirst, nameLast, sep = " ")) %>%
select(name,everything(),-nameLast,-nameFirst) -> batting.2016
library(Lahman)
library(tidyverse)
# 2018 players
Batting %>%
filter(yearID == 2016) %>%
group_by(playerID) %>%
summarize(X2B = sum(X2B),
X3B = sum(X3B),
HR = sum(HR),
AB = sum(AB),
BB = sum(BB),
H = sum(H)) %>%
mutate(X1B = H - X2B - X3B - HR) -> batting.2016
Salaries %>%
filter(yearID == 2016) %>%
group_by(playerID) %>%
summarize(salary = sum(salary)) -> salary.2016
batting.2016 %>%
left_join(salary.2016, by = "playerID") %>%
left_join(select(Master, nameLast, nameFirst,playerID)) %>%
mutate(name = paste(nameFirst, nameLast, sep = " ")) %>%
select(name,everything(),-nameLast,-nameFirst) -> batting.2016
batting.2016 %>%
pivot_longer(cols = X2B:X1B,
names_to = "statistic",
values_to = "value")
batting.2016 %>%
pivot_longer(cols = X2B:X1B,
names_to = "statistic",
values_to = "value") %>%
ggplot(aes(x = value, y = salary)) +
geom_point() +
facet_wrap(~ statistic)
batting.2016 %>%
pivot_longer(cols = X2B:X1B,
names_to = "statistic",
values_to = "value") %>%
ggplot(aes(x = value, y = salary)) +
geom_point() +
filter(statistic %in% c(H, HR)) +
facet_wrap(~ statistic)
batting.2016 %>%
pivot_longer(cols = X2B:X1B,
names_to = "statistic",
values_to = "value") %>%
filter(statistic %in% c(H, HR)) %>%
ggplot(aes(x = value, y = salary)) +
geom_point() +
facet_wrap(~ statistic)
batting.2016
batting.2016 %>%
pivot_longer(cols = X2B:X1B,
names_to = "statistic",
values_to = "value") %>%
filter(statistic %in% c("H", "HR")) %>%
ggplot(aes(x = value, y = salary)) +
geom_point() +
facet_wrap(~ statistic)
Salaries %>%
filter(yearID == 2016) %>%
group_by(playerID) %>%
summarize(salary = sum(salary)) %>%
mutate(salary.million = salary/1000000) -> salary.2016
batting.2016 %>%
left_join(salary.2016, by = "playerID") %>%
left_join(select(Master, nameLast, nameFirst,playerID)) %>%
mutate(name = paste(nameFirst, nameLast, sep = " ")) %>%
select(name,everything(),-nameLast,-nameFirst) -> batting.2016
Batting %>%
filter(yearID == 2016) %>%
group_by(playerID) %>%
summarize(X2B = sum(X2B),
X3B = sum(X3B),
HR = sum(HR),
AB = sum(AB),
BB = sum(BB),
H = sum(H)) %>%
mutate(X1B = H - X2B - X3B - HR) -> batting.2016
Salaries %>%
filter(yearID == 2016) %>%
group_by(playerID) %>%
summarize(salary = sum(salary)) %>%
mutate(salary.million = salary/1000000) -> salary.2016
batting.2016 %>%
left_join(salary.2016, by = "playerID") %>%
left_join(select(Master, nameLast, nameFirst,playerID)) %>%
mutate(name = paste(nameFirst, nameLast, sep = " ")) %>%
select(name,everything(),-nameLast,-nameFirst) -> batting.2016
batting.2016 %>%
pivot_longer(cols = X2B:X1B,
names_to = "statistic",
values_to = "value") %>%
filter(statistic %in% c("H", "HR")) %>%
ggplot(aes(x = value, y = salary.million)) +
geom_point() +
facet_wrap(~ statistic)
batting.2016 %>%
pivot_longer(cols = X2B:X1B,
names_to = "statistic",
values_to = "value") %>%
filter(statistic %in% c("H", "HR")) %>%
ggplot(aes(x = value, y = salary.million)) +
geom_point() +
facet_wrap(~ statistic, ncol = 2)
# 2018 players
Batting %>%
filter(yearID == 2016) %>%
group_by(playerID) %>%
summarize(X2B = sum(X2B),
X3B = sum(X3B),
HR = sum(HR),
AB = sum(AB),
BB = sum(BB),
H = sum(H)) %>%
mutate(X1B = H - X2B - X3B - HR) %>%
filter(AB > 100) -> batting.2016
Salaries %>%
filter(yearID == 2016) %>%
group_by(playerID) %>%
summarize(salary = sum(salary)) %>%
mutate(salary.million = salary/1000000) -> salary.2016
batting.2016 %>%
left_join(salary.2016, by = "playerID") %>%
left_join(select(Master, nameLast, nameFirst,playerID)) %>%
mutate(name = paste(nameFirst, nameLast, sep = " ")) %>%
select(name,everything(),-nameLast,-nameFirst) -> batting.2016
# 2018 players
Batting %>%
filter(yearID == 2016) %>%
group_by(playerID) %>%
summarize(X2B = sum(X2B),
X3B = sum(X3B),
HR = sum(HR),
AB = sum(AB),
BB = sum(BB),
H = sum(H)) %>%
mutate(X1B = H - X2B - X3B - HR) %>%
filter(AB > 100) -> batting.2016
Salaries %>%
filter(yearID == 2016) %>%
group_by(playerID) %>%
summarize(salary = sum(salary)) %>%
mutate(salary.million = salary/1000000) -> salary.2016
batting.2016 %>%
left_join(salary.2016, by = "playerID") %>%
left_join(select(Master, nameLast, nameFirst,playerID)) %>%
mutate(name = paste(nameFirst, nameLast, sep = " ")) %>%
select(name,everything(),-nameLast,-nameFirst) -> batting.2016
batting.2016 %>%
pivot_longer(cols = X2B:X1B,
names_to = "statistic",
values_to = "value") %>%
filter(statistic %in% c("H", "HR")) %>%
ggplot(aes(x = value, y = salary.million)) +
geom_point() +
facet_wrap(~ statistic, ncol = 2)
batting.2016 %>%
pivot_longer(cols = X2B:X1B,
names_to = "statistic",
values_to = "value") %>%
filter(statistic %in% c("H", "HR")) %>%
ggplot(aes(x = value, y = salary.million)) +
geom_point() +
facet_wrap(~ statistic, ncol = 2, scales = "free_x")
batting.2016 %>%
pivot_longer(cols = X2B:X1B,
names_to = "statistic",
values_to = "value") %>%
filter(statistic %in% c("H", "HR")) %>%
ggplot(aes(x = value, y = log(salary.million))) +
geom_point() +
facet_wrap(~ statistic, ncol = 2, scales = "free_x")
library(plotly)
p <- batting.2016 %>%
pivot_longer(cols = X2B:X1B,
names_to = "statistic",
values_to = "value") %>%
filter(statistic %in% c("H", "HR")) %>%
ggplot(aes(x = value, y = log(salary.million))) +
geom_point() +
facet_wrap(~ statistic, ncol = 2, scales = "free_x")
ggplotly(p)
ggplot(aes(x = value, y = salary.million) +
library(Lahman)
library(tidyverse)
library(plotly)
# 2018 players
Batting %>%
filter(yearID == 2016) %>%
group_by(playerID) %>%
summarize(X2B = sum(X2B),
X3B = sum(X3B),
HR = sum(HR),
AB = sum(AB),
BB = sum(BB),
H = sum(H)) %>%
mutate(X1B = H - X2B - X3B - HR) %>%
filter(AB > 100) -> batting.2016
Salaries %>%
filter(yearID == 2016) %>%
group_by(playerID) %>%
summarize(salary = sum(salary)) %>%
mutate(salary.million = salary/1000000) -> salary.2016
batting.2016 %>%
left_join(salary.2016, by = "playerID") %>%
left_join(select(Master, nameLast, nameFirst,playerID)) %>%
mutate(name = paste(nameFirst, nameLast, sep = " ")) %>%
select(name,everything(),-nameLast,-nameFirst) -> batting.2016
p <- batting.2016 %>%
pivot_longer(cols = X2B:X1B,
names_to = "statistic",
values_to = "value") %>%
filter(statistic %in% c("H", "HR")) %>%
ggplot(aes(x = value, y = salary.million) +
geom_point() +
facet_wrap(~ statistic, ncol = 2, scales = "free_x")
ggplotly(p)
facet_wrap(~ statistic, ncol = 2, scales = "free_x")
facet_wrap(~ statistic, ncol = 2, scales = "free_x")
p <- batting.2016 %>%
pivot_longer(cols = X2B:X1B,
names_to = "statistic",
values_to = "value") %>%
filter(statistic %in% c("H", "HR")) %>%
ggplot(aes(x = value, y = salary.million)) +
geom_point() +
facet_wrap(~ statistic, ncol = 2, scales = "free_x")
ggplotly(p)
Batting %>%
filter(yearID == 2016) %>%
group_by(playerID) %>%
summarize(X2B = sum(X2B),
X3B = sum(X3B),
HR = sum(HR),
AB = sum(AB),
BB = sum(BB),
H = sum(H)) %>%
mutate(X1B = H - X2B - X3B - HR) %>%
filter(AB > 100) -> batting.2016
Salaries %>%
filter(yearID == 2016) %>%
group_by(playerID) %>%
summarize(salary = sum(salary)) %>%
mutate(salary.million = round(salary/1000000),1) -> salary.2016
batting.2016 %>%
left_join(salary.2016, by = "playerID") %>%
left_join(select(Master, nameLast, nameFirst,playerID)) %>%
mutate(name = paste(nameFirst, nameLast, sep = " ")) %>%
select(name,everything(),-nameLast,-nameFirst) -> batting.2016
p <- batting.2016 %>%
pivot_longer(cols = X2B:X1B,
names_to = "statistic",
values_to = "value") %>%
filter(statistic %in% c("H", "HR")) %>%
ggplot(aes(x = value, y = salary.million)) +
geom_point() +
facet_wrap(~ statistic, ncol = 2, scales = "free_x")
ggplotly(p)
p <- batting.2016 %>%
pivot_longer(cols = X2B:X1B,
names_to = "statistic",
values_to = "value") %>%
filter(statistic %in% c("H", "HR")) %>%
ggplot(aes(x = value,
y = salary.million,
label = name)) +
geom_point() +
facet_wrap(~ statistic, ncol = 2, scales = "free_x")
ggplotly(p)
p <- batting.2016 %>%
pivot_longer(cols = X2B:X1B,
names_to = "statistic",
values_to = "value") %>%
filter(statistic %in% c("H", "HR")) %>%
ggplot(aes(x = value,
y = salary.million,
label = name)) +
geom_point() +
facet_wrap(~ statistic, ncol = 2, scales = "free_x") +
scale_y_log10()
ggplotly(p)
Batting %>%
filter(yearID == 2016) %>%
group_by(playerID) %>%
summarize(X2B = sum(X2B),
X3B = sum(X3B),
HR = sum(HR),
AB = sum(AB),
BB = sum(BB),
H = sum(H)) %>%
mutate(X1B = H - X2B - X3B - HR) %>%
filter(AB > 100) -> batting.2016
Salaries %>%
filter(yearID == 2016) %>%
group_by(playerID) %>%
summarize(salary = sum(salary)) %>%
mutate(salary.million = round(salary/1000000),2) -> salary.2016
batting.2016 %>%
left_join(salary.2016, by = "playerID") %>%
left_join(select(Master, nameLast, nameFirst,playerID)) %>%
mutate(name = paste(nameFirst, nameLast, sep = " ")) %>%
select(name,everything(),-nameLast,-nameFirst) -> batting.2016
p <- batting.2016 %>%
pivot_longer(cols = X2B:X1B,
names_to = "statistic",
values_to = "value") %>%
filter(statistic %in% c("H", "HR")) %>%
ggplot(aes(x = value,
y = salary.million,
label = name)) +
geom_point() +
facet_wrap(~ statistic, ncol = 2, scales = "free_x") +
scale_y_log10()
ggplotly(p)
p <- batting.2016 %>%
pivot_longer(cols = X2B:X1B,
names_to = "statistic",
values_to = "value") %>%
filter(statistic %in% c("H", "HR")) %>%
ggplot(aes(x = value,
y = salary.million,
label = name)) +
geom_point() +
facet_wrap(~ statistic, ncol = 2, scales = "free_x")
ggplotly(p)
p <- batting.2016 %>%
pivot_longer(cols = X2B:X1B,
names_to = "statistic",
values_to = "value") %>%
filter(statistic %in% c("H", "HR")) %>%
ggplot(aes(x = value,
y = salary.million,
label = name)) +
geom_point() +
facet_wrap(~ statistic, ncol = 2, scales = "free_x") +
theme_bw + theme_classic()
p <- batting.2016 %>%
pivot_longer(cols = X2B:X1B,
names_to = "statistic",
values_to = "value") %>%
filter(statistic %in% c("H", "HR")) %>%
ggplot(aes(x = value,
y = salary.million,
label = name)) +
geom_point() +
facet_wrap(~ statistic, ncol = 2, scales = "free_x") +
theme_bw() + theme_classic()
ggplotly(p)
p <- batting.2016 %>%
pivot_longer(cols = X2B:X1B,
names_to = "statistic",
values_to = "value") %>%
filter(statistic %in% c("H", "HR")) %>%
ggplot(aes(x = value,
y = salary.million,
label = name)) +
geom_point() +
facet_wrap(~ statistic, ncol = 2, scales = "free_x") +
theme_bw()
ggplotly(p)
Batting %>%
filter(yearID == 2016) %>%
group_by(playerID) %>%
summarize(X2B = sum(X2B),
X3B = sum(X3B),
HR = sum(HR),
AB = sum(AB),
BB = sum(BB),
H = sum(H)) %>%
mutate(X1B = H - X2B - X3B - HR) %>%
filter(AB > 100) -> batting.2016
Salaries %>%
filter(yearID == 2016) %>%
group_by(playerID) %>%
summarize(salary = sum(salary)) %>%
mutate(salary.million = round(salary/1000000),2) -> salary.2016
batting.2016 %>%
left_join(salary.2016, by = "playerID") %>%
left_join(select(Master, nameLast, nameFirst,playerID, debut)) %>%
mutate(name = paste(nameFirst, nameLast, sep = " ")) %>%
select(name,everything(),-nameLast,-nameFirst) -> batting.2016
p <- batting.2016 %>%
pivot_longer(cols = X2B:X1B,
names_to = "statistic",
values_to = "value") %>%
filter(statistic %in% c("H", "HR")) %>%
ggplot(aes(x = value,
y = salary.million,
label = name)) +
geom_point() +
facet_wrap(~ statistic, ncol = 2, scales = "free_x") +
theme_bw()
batting.2016
Batting %>%
filter(yearID == 2016) %>%
group_by(playerID) %>%
summarize(X2B = sum(X2B),
X3B = sum(X3B),
HR = sum(HR),
AB = sum(AB),
BB = sum(BB),
H = sum(H)) %>%
mutate(X1B = H - X2B - X3B - HR) %>%
filter(AB > 100) -> batting.2016
Salaries %>%
filter(yearID == 2016) %>%
group_by(playerID) %>%
summarize(salary = sum(salary)) %>%
mutate(salary.million = round(salary/1000000,2)) -> salary.2016
batting.2016 %>%
left_join(salary.2016, by = "playerID") %>%
left_join(select(Master, nameLast, nameFirst,playerID, debut)) %>%
mutate(name = paste(nameFirst, nameLast, sep = " ")) %>%
select(name,everything(),-nameLast,-nameFirst) -> batting.2016
p <- batting.2016 %>%
pivot_longer(cols = X2B:X1B,
names_to = "statistic",
values_to = "value") %>%
filter(statistic %in% c("H", "HR")) %>%
ggplot(aes(x = value,
y = salary.million,
label = name)) +
geom_point() +
facet_wrap(~ statistic, ncol = 2, scales = "free_x") +
theme_bw()
ggplotly(p)
install.packages('GGally')
library(GGally)
batting.2016
ggparcoord(batting.2016,
columns = X2B:salary)
ggparcoord(batting.2016,
columns = 3:9)
plot_coord <- ggparcoord(batting.2016,
columns = 3:9)
ggplotly(plot_coord)
plot_coord <- ggparcoord(batting.2016,
columns = 3:9,label = name)
ggplotly(plot_coord)
plot_coord <- ggparcoord(batting.2016,
columns = 3:9,
scale = "globalminmax")
ggplotly(plot_coord)
columns = 3:9
plot_coord <- ggparcoord(batting.2016,
columns = 3:9)
plot_coord <- ggparcoord(batting.2016,
columns = c("X2B","HR"))
plot_coord <- ggparcoord(batting.2016,
columns = 3:9)
ggplotly(plot_coord)
library(GGally)
plot_coord <- ggparcoord(batting.2016,
columns = 3:9
showPoints = TRUE)
ggplotly(plot_coord)
plot_coord <- ggparcoord(batting.2016,
columns = 3:9,
showPoints = TRUE)
ggplotly(plot_coord)
