#my favorite player was Wade Boggs, until he became a Yankee
library(Lahman)
names(Master)
#get Boggs' player ID
Master %>%
filter(nameLast == "Boggs")
library(tidyverse)
#get Boggs' player ID
Master %>%
filter(nameLast == "Boggs")
#get Boggs' player ID
Master %>%
filter(nameLast == "Boggs", nameFirst == "Wade")
boggs = Batting %>%
filter(playerID == "boggswa01")
View(boggs)
#calculate batting average by team
boggs %>%
group_by(teamID) %>%
summarise(BA = H/AB)
#calculate batting average by team
boggs %>%
group_by(teamID) %>%
summarise(H/AB)
#calculate batting average by team
boggs %>%
group_by(teamID) %>%
summarize(BA = H/AB)
#calculate batting average by team
boggs %>%
group_by(teamID) %>%
summarize(BA = sum(H)/sum(AB))
#plot his batting average by season
boggs %>%
ggplot(aes(x = yearID, y = H/AB)) +
geom_point()
#plot his batting average by season
boggs %>%
ggplot(aes(x = yearID, y = H/AB, color = teamID)) +
geom_point()
#plot his batting average by season
boggs %>%
ggplot(aes(x = yearID, y = H/AB, color = teamID)) +
geom_point() +
labs(x = "year",
y = "batting average",
title = "Wade Boggs batting average by year and team")
#plot his batting average by season
boggs %>%
ggplot(aes(x = yearID, y = H/AB, color = teamID)) +
geom_point() +
labs(x = "year",
y = "batting average",
title = "Wade Boggs batting average by year")
Teams
Teams %>%
select(yearID,BB,G)
Teams %>%
filter(yearID > 1919) %>%
select(yearID,BB,G)
Teams %>%
filter(yearID > 1919) %>%
select(yearID,BB,G) %>%
arrange(desc(BB))
Teams %>%
filter(yearID > 1919) %>%
select(yearID,BB,G) %>%
arrange(desc(BB)) %>%
head(10)
Teams %>%
filter(yearID > 1919) %>%
select(yearID,BB,G) %>%
arrange(desc(BB)) %>%
mutate(BBperGame = BB/G) %>%
head(10)
Teams %>%
summarize(walk_rate = sum(BB)/sum(G))
Teams %>%
summarize(walk_rate = sum(BB, na.rm = TRUE)/sum(G))
Teams %>%
filter(yearID > 1919) %>%
select(yearID,BB,G) %>%
arrange(desc(BB)) %>%
mutate(BBperGame = BB/G) %>%
head(10)
Teams %>%
summarize(walk_rate = sum(BB, na.rm = TRUE)/sum(G))
Teams %>%
group_by(yearID)
Teams %>%
group_by(yearID) %>%
summarize(walk_rate = sum(BB, na.rm = TRUE)/sum(G))
#Calculate the walk rate per 9 innings by season
Teams %>%
group_by(yearID) %>%
summarize(walks_per_game = sum(BB)/sum(G),
SO_per_game = sum(SO)/sum(G)) -> walks
walks %>% head(3)
walks = walks %>%
mutate(walks_SO_ratio = walks_per_game/SO_per_game)
walks %>% head(10)
Teams
Teams %>%
select(yearID, BB, G)
Teams %>%
select(yearID, BB, G) %>%
head(10)
Teams %>%
select(yearID, BB, G) %>%
filter(yearID > 1919) %>%
arrange(desc(BB)) %>%
head(10)
Teams %>%
select(yearID, BB, G) %>%
filter(yearID > 1919) %>%
arrange(desc(BB)) %>%
mutate(BB_per_game = BB/G) %>%
head(10)
Teams %>%
summarize(walks_rate = sum(BB)/sum(G))
Teams %>%
summarize(walks_rate = sum(BB, na.rm = TRUE)/sum(G))
Teams %>%
group_by(yearID) %>%
summarize(walks_rate = sum(BB, na.rm = TRUE)/sum(G))
names(Teams)
library(Lahman)
library(tidyverse)
Pitching %>% head(2)
Pitching %>%
group_by(playerID) %>%
summarize(W = sum(W, na.rm = TRUE),
L = sum(L, na.rm = TRUE),
SO = sum(SO, na.rm = TRUE),
BB = sum(BB, na.rm = TRUE)) -> Wins.350
Pitching %>%
group_by(playerID) %>%
summarize(W = sum(W, na.rm = TRUE),
L = sum(L, na.rm = TRUE),
SO = sum(SO, na.rm = TRUE),
BB = sum(BB, na.rm = TRUE)) %>%
filter(W > 349) -> Wins.350
Master %>% head(2)
Wins.350 %>%
left_join(Master %>% select(playerID, nameFirst, nameLast),
by = "playerID")
Wins.350 %>%
left_join(Master %>% select(playerID, nameFirst, nameLast),
by = "playerID") %>%
mutate(player = paste(nameFirst," ", nameLast)) %>%
select(player, W, L, SO, BB)
Wins.350 %>%
left_join(Master %>% select(playerID, nameFirst, nameLast),
by = "playerID") %>%
mutate(player = paste(nameFirst,nameLast)) %>%
select(player, W, L, SO, BB)
Wins.350 %>%
left_join(Master %>% select(playerID, nameFirst, nameLast),
by = "playerID") %>%
mutate(player = paste(nameFirst,nameLast)) %>%
select(player, W, L, SO, BB) -> Wins.350
